<div context-menu data-target="channel-context-menu-{{ channel.id_contenu }}" open-tab="{{ channel.url }}" class="channel" ng-class="{ offline: !channel.is_live }" ng-if="$root.settings.channels.showOffline || channel.is_live" ng-repeat-start="channel in channels | orderBy:['-is_favorite', '-nb_viewers', 'titre']">
    <div class="left">
        <div class="thumbnail" ng-show="$root.settings.channels.showThumbnail">
            <img src="img/channel-placeholder.png" ng-src="{{ channel.thumbnail_url }}" alt="{{ channel.titre }}">
        </div>
    </div>
    <div class="body">
        <dl>
            <dd class="viewers" ng-hide="channel.is_live">Hors ligne</dd>
            <dd class="viewers" ng-show="channel.is_live">{{ channel.nb_viewers }} spectateurs</dd>
            <dt class="name">{{ channel.titre }}</dt>
            <dd class="title" ng-show="$root.settings.channels.showEmission && channel.is_live && channel.emission">{{ channel.emission.title }}</dd>
        </dl>
    </div>
    <ul class="actions" open-tab-ignore>
        <li>
            <a ng-click="favorite(channel)"><i class="fa" ng-class="{ 'fa-star-o': !channel.is_favorite, 'fa-star': channel.is_favorite }"></i></a>
        </li>
        <li class="show-on-hover">
            <a ng-click="share(channel)"><i class="fa fa-share-alt"></i></a>
        </li>
    </ul>
</div>
<ul ng-repeat-end class="context-menu" id="channel-context-menu-{{ channel.id_contenu }}">
    <li>
        <a ng-if="!channel.is_favorite" ng-click="favorite(channel)"><i class="fa fa-fw fa-star"></i>&nbsp; Mettre en favoris</a>
        <a ng-if="channel.is_favorite" ng-click="favorite(channel)"><i class="fa fa-fw fa-star-o"></i>&nbsp; Retirer des favoris</a>
    </li>
    <li>
        <a ng-click="share(channel)"><i class="fa fa-fw fa-share-alt"></i>&nbsp; Partager</a>
    </li>
    <li>
        <a ng-if="!channel.planning" class="disabled"><i class="fa fa-fw fa-calendar-o"></i>&nbsp; Voir le planning</a>
        <a ng-if="channel.planning" ui-sref="schedule.show({ type: (channel.is_caster ? 'casters' : 'main'), id: channel.id_contenu })"><i class="fa fa-fw fa-calendar-o"></i>&nbsp; Voir le planning</a>
    </li>
    <li class="separator"></li>
    <li>
        <a open-tab="{{ channel.links.video }}?autoplay=1"><i class="fa fa-fw fa-video-camera"></i>&nbsp; Vid√©o seule</a>
    </li>
    <li>
        <a open-tab="{{ channel.links.chat }}"><i class="fa fa-fw fa-comments"></i>&nbsp; Chat seul</a>
    </li>
</ul>
